\begingroup \toks 0={macro:->[scale=5,tdplot_main_coords] \par \coordinate (O) at (0,0,0); \par \tdplotsetcoord {P}{\rvec }{\thetavec }{\phivec } \par \par \draw [thick,->] (0,0,0) -- (1,0,0) node[anchor=north east]{$x$}; \draw [thick,->] (0,0,0) -- (0,1,0) node[anchor=north west]{$y$}; \draw [thick,->] (0,0,0) -- (0,0,1) node[anchor=south]{$z$}; \par \draw [-latex,color=mypink, thick] (O) -- (P); \par \draw [dashed, color=lightgray, ->] (O) -- (Pxy) node[right, black] {$r$}; \draw [dashed, color=lightgray,->] (Pxy) -- (P) node[midway, above right, black,yshift=.2cm] {$z$}; \par \tdplotdrawarc {(O)}{0.2}{0}{\phivec }{anchor=north}{$\theta $}; \tdplotdrawarc [dashed,lightgray]{(O)}{0.4}{0}{360}{anchor=north}{}; \par \draw [fill=black] (P) circle (.4pt) node[right] {$(r,\theta , z)$}; \par }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
