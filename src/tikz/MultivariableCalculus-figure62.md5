\begingroup \toks 0={macro:-> \par \newcommand {\RightAngle }[4][5pt]{\draw ($##3!##1!##2$) --($ ##3!2!($($##3!##1!##2$)!.5!($##3!##1!##4$)$) $) --($##3!##1!##4$) ; } \begin {axis}[grid=major,view={20}{40},z buffer=sort, width=12cm, scale mode=scale uniformly, colormap/copper, zmin=-5,zmax=5,xmin=-10,xmax=10,ymin=-10,ymax=10, xticklabels={,,}, yticklabels={,,}, zticklabels={,,}, xtick={-10,-5,...,10}, ytick={-10,-5,...,10} ] \par \addplot 3 [data cs=cart,surf,domain=-10:10,samples=20] {(-x*x-y*y)/30+3}; \par \addplot 3 [data cs=cart,surf,domain=-5:9,samples=2, opacity=0.5, fill=myorange] {-4/15*x-2/15*y+11/3}; \par \coordinate (A) at (axis cs:4,2,3+20/30); \par \coordinate (A0) at (axis cs: 6.000, 2, 3.133); \coordinate (A1) at (axis cs: 5.414, 3.414, 3.101); \coordinate (A2) at (axis cs: 4, 4.000, 3.400); \coordinate (A3) at (axis cs: 2.586, 3.414, 3.855); \coordinate (A4) at (axis cs: 2.000, 2, 4.200); \coordinate (A5) at (axis cs: 2.586, 0.5858, 4.232); \coordinate (A6) at (axis cs: 4, 0, 3.933); \coordinate (A7) at (axis cs: 5.414, 0.5858, 3.478); \par \coordinate (B0) at (axis cs: 8.619, 3.913, 2.180); \coordinate (B1) at (axis cs: 5.913, 6.619, 2.540); \coordinate (B2) at (axis cs: 2.087, 6.619, 3.561); \coordinate (B3) at (axis cs: -0.6194, 3.913, 4.643); \coordinate (B4) at (axis cs: -0.6194, 0.08658, 5.154); \coordinate (B5) at (axis cs: 2.087, -2.619, 4.793); \coordinate (B6) at (axis cs: 5.913, -2.619, 3.772); \coordinate (B7) at (axis cs: 8.619, 0.08658, 2.690); \par \draw [->] (A) -- (A0); \draw [->] (A) -- (A1); \draw [->] (A) -- (A2); \draw [->] (A) -- (A3); \draw [->] (A) -- (A4); \draw [->] (A) -- (A5); \draw [->] (A) -- (A6); \draw [->] (A) -- (A7); \par \draw [->] (A) -- (B0); \draw [->] (A) -- (B1); \draw [->] (A) -- (B2); \draw [->] (A) -- (B3); \draw [->] (A) -- (B4); \draw [->] (A) -- (B5); \draw [->] (A) -- (B6); \draw [->] (A) -- (B7); \par \draw [mypink,fill] (A) circle (1.5pt) node [below right, black] {}; \end {axis} \par }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
