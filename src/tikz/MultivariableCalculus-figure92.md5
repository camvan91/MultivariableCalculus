\begingroup \toks 0={macro:-> \par \begin {axis}[grid=major,view={-50}{25},zmin=0, colormap/viridis, xticklabels={,,}, yticklabels={,,}, zticklabels={,,}, name=plot0 ] \par \addplot 3 [mypink, domain=-1:5, y domain=-3:3, quiver={u={-2*x+4}, v={-2*y}, scale arrows=0.14, every arrow/.append style={-stealth}}, samples=10] (x,y,0) node[above] (A) {}; \begin {scope}[opacity=.7] \addplot 3[surf, domain=-1:5, y domain=-3:3, shader=interp, opacity=1] {-(x-2)^2-y^2+20}; \end {scope} \par \pgfplotsinvokeforeach {1,3,...,20} { \draw [thick, white, densely dashed, thin] (2,0,{20-##1}) ellipse[x radius=sqrt(##1), y radius=sqrt(##1)]; } \par \par \par \end {axis} \par \begin {axis}[grid=major,view={270}{90},zmin=0, colormap/viridis, xticklabels={,,}, yticklabels={,,}, zticklabels={,,}, name=plot2, at=(plot0.right of south east), xshift=.5cm ] \par \par \addplot 3[surf, domain=-1:5, y domain=-3:3, shader=interp, opacity=1] {-(x-2)^2-y^2+20}; \par \par \par \par \pgfplotsinvokeforeach {1,3,...,20} { \draw [thick, white, densely dashed, thin] (2,0,0) ellipse[x radius=sqrt(##1), y radius=sqrt(##1)]; } \par \addplot 3 [mypink, domain=-1:5, y domain=-3:3, quiver={u={-2*x+4}, v={-2*y}, scale arrows=0.14, every arrow/.append style={-stealth}}, samples=10] (x,y,0) node[above] (A) {}; \par \end {axis} }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
