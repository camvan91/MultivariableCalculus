\begingroup \toks 0={macro:-> \def \tilt {45} \def \azimuth {30} \begin {axis}[axis equal, width=14cm, height=14cm, hide axis, enlargelimits=0.3, view/h=\tilt , view/v=\azimuth , scale uniformly strategy=units only, colormap={bluewhite}{color=(blue) color=(white)}, ] \coordinate (X) at (axis cs: 1,0,0); \coordinate (-X) at (axis cs: -1,0,0); \coordinate (Y) at (axis cs: 0,1,0); \coordinate (-Y) at (axis cs: 0,-1,0); \coordinate (Z) at (axis cs: 0,0,1); \coordinate (-Z) at (axis cs: 0,0,-1); \filldraw [ball color=white,draw=none] (axis cs: 0,0,0) circle (2.47cm); \pgfplotsinvokeforeach {-80,-60,...,80}{ \pgfplotsextra { \pgfmathsetmacro \sinVis {sin(##1)/cos(##1)*sin(30)/cos(30)} \pgfmathsetmacro \angVis {asin(min(1,max(\sinVis ,-1)))} \coordinate (X) at (axis cs: {cos(##1)},0,{sin(##1)}); \draw [densely dashed, lightgray] (X) arc (0:360:{100*cos(##1)}); } } \par \par \foreach \a in {0} { \pgfmathsetmacro {\Bound }{-60*cos(\a +45)} \addplot 3[domain=\Bound :90, samples=45,samples y=0, mypink, ultra thick] ({cos(\a )*cos(x)},{sin(\a )*cos(x)},{sin(x)}); \addplot 3[domain=-90:\Bound , samples=45,samples y=0, densely dashed, mypink, ultra thick] ({cos(\a )*cos(x)},{sin(\a )*cos(x)},{sin(x)}); } \par \foreach \a in {180} { \pgfmathsetmacro {\Bound }{-60*cos(\a +45)} \addplot 3[domain=\Bound :90, samples=45,samples y=0] ({cos(\a )*cos(x)},{sin(\a )*cos(x)},{sin(x)}); \addplot 3[domain=-90:\Bound , samples=45,samples y=0, densely dashed] ({cos(\a )*cos(x)},{sin(\a )*cos(x)},{sin(x)}); } \par \draw (4.1cm,2cm) node {0-meridian}; \par \end {axis} }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
