\begingroup \toks 0={macro:-> \begin {axis}[ name=plot1, xmin=-1,xmax=8, ymin=-1,ymax=2.5, x=1cm,y=1cm, xtick=\empty ,ytick=\empty , grid=both, grid style={line width=.1pt, draw=gray!10}, axis lines=middle, minor tick num=0, enlargelimits={abs=0.5}, axis line style={latex-latex}, ticklabel style={font=\tiny ,fill=white}, xlabel style={at={(ticklabel* cs:1)},anchor=north west}, ylabel style={at={(ticklabel* cs:1)},anchor=south west} ] \par \pgfmathsetmacro \mystart {1.2} \pgfmathsetmacro \myend {1.7} \coordinate (A) at ($({-(\mystart +1)*\mystart *(\mystart -3)*(1+\mystart ^2)/4},{-\mystart *(\mystart -1)*(\mystart -2)*4*(1+\mystart ^3)/4})$); \coordinate (B) at ($({-(\myend +1)*\myend *(\myend -3)*(1+\myend ^2)/4},{-\myend *(\myend -1)*(\myend -2)*4*(1+\myend ^3)/4})$); \par \addplot [domain=0:2, samples=80, thick, mypink] ({-(x+1)*x*(x-3)*(1+x^2)/4},{-x*(x-1)*(x-2)*4*(1+x^3)/4}); \addplot [domain=\mystart :\myend , samples=20, ultra thick, blue] ({-(x+1)*x*(x-3)*(1+x^2)/4},{-x*(x-1)*(x-2)*4*(1+x^3)/4}); \draw [] (0,.5) node[right] {Range}; \par \draw [fill] (A) circle (1.5pt) node[above left] {$\vec p(a)$}; \draw [fill] (B) circle (1.5pt) node[above] {$\vec p(b)$}; \par \end {axis} \begin {axis}[ at=(plot1.below south),anchor=above north,yshift=-.5cm, xmin=-1,xmax=8, ymin=-.2,ymax=.2, hide y axis, xtick=\empty , x=1cm,y=1cm, grid=both, grid style={line width=.1pt, draw=gray!10}, axis lines=middle, minor tick num=0, enlargelimits={abs=0.5}, axis line style={latex-latex}, ticklabel style={font=\tiny ,fill=white}, xlabel style={at={(ticklabel* cs:1)},anchor=north west}, ylabel style={at={(ticklabel* cs:1)},anchor=south west} ] \par \addplot [domain=0:6, samples=2, thick, mypink] ({x},{0}); \draw [] (0,.5) node[right] {Domain}; \coordinate (A) at (3,0); \coordinate (B) at (5,0); \draw [ultra thick, blue] (A) -- (B); \draw [fill] (A) circle (1.5pt) node[above] {$a$}; \draw [fill] (B) circle (1.5pt) node[above] {$b$}; \par \end {axis} }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
