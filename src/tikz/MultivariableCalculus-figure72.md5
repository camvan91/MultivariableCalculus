\begingroup \toks 0={macro:-> \par \par \begin {axis}[grid=major,view={80}{25},zmin=0, colormap/viridis, xticklabels={,,}, yticklabels={,,}, zticklabels={,,}, name=plot0 ] \par \par \addplot 3[domain=-180:179, samples y=1, mypink, thick, smooth, densely dashed] ({cos(x)},{sin(x)},{0}) node[near start, right, mypink, xshift=.1cm] {}; \par \addplot 3[surf, domain=-2:2, shader=interp, opacity=1, samples=20] {(x-2)^2+(y-3)^2}; \par \par \addplot 3[domain=0:360, samples y=1, mypink, thick, smooth] ({cos(x)},{sin(x)},{(cos(x)-2)^2+(sin(x)-3)^2}); \par \par \par \draw (-.56, -.84 , 21.211) node (M1) {}; \end {axis} \par \begin {axis}[grid=major,view={80}{25},zmin=0,xmin=-2,xmax=2,ymin=-2,ymax=2,zmax=45, xshift=.5cm, colormap/copper, xticklabels={,,}, yticklabels={,,}, zticklabels={,,}, name=plot2, at=(plot0.right of south east), ] \par \par \addplot 3[domain=-180:179, samples y=1, mypink, thick, smooth, densely dashed] ({cos(x)},{sin(x)},{0}) node[near start, right, mypink, xshift=.1cm] {}; \par \draw ({cos(deg(4.12))}, {sin(deg(4.12))}, {(cos(deg(4.12))-2)^2+(sin(deg(4.12))-3)^2}) node (A) {}; \draw ({cos(deg(4.2+pi))}, {sin(deg(4.2+pi))}, {(cos(deg(4.2+pi))-2)^2+(sin(deg(4.2+pi))-3)^2}) node (B) {}; \par \pgfplotsinvokeforeach {0, 30, ..., 350} { \draw [myorange,->] ({cos(##1)}, {sin(##1)}, {0}) -- ({cos(##1) + sin(##1)}, {sin(##1)-cos(##1)}, {0}); } \draw (-.56, -.84 , 21.211) node (M1) {}; \par \addplot 3[domain=0:360, samples y=1, mypink, thick, smooth] ({cos(x)},{sin(x)},{(cos(x)-2)^2+(sin(x)-3)^2}); \end {axis} \par \par \draw (plot2.north) node[above] {$\nabla f(\vec r(t))\cdot \vec T_{\vec r(t)}=0$} edge[bend right, ->] (A) edge[bend left, ->] (B); }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
