\begingroup \toks 0={macro:-> \par \par \begin {axis}[grid=major,view={60}{25},xmin=-2,xmax=2,ymin=-2,ymax=2, colormap/viridis, name=plot0 ] \par \addplot 3[surf, domain=-2:2, shader=interp, opacity=1, samples=20] {4-x^2+y^3}; \par \par \par \par \end {axis} \par \par \par \par \begin {axis}[grid=major,view={0}{90},zmin=0,xmin=-2,xmax=2,ymin=-2,ymax=2,zmax=45, xshift=.5cm, colormap/viridis, name=plot2, at=(plot0.right of south east), ] \par \addplot 3 [myorange, domain=-2:2, quiver={u={-2*x}, v={3*abs(y)}, scale arrows=0.1, every arrow/.append style={-stealth}}, samples=10] (x,y,0) node[above] (A) {}; \par \end {axis} \par \par \draw (plot2.north) node[above, yshift=.2cm] {$\nabla f$}; \draw (plot0.north) node[above, yshift=.2cm] {$z= f(x,y)$}; }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
