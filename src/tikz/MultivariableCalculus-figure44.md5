\begingroup \toks 0={macro:->[scale=5,tdplot_main_coords] \par \coordinate (O) at (0,0,0); \par \tdplotsetcoord {P}{\rvec }{\thetavec }{\phivec } \par \par \draw [thick,->] (0,0,0) -- (1,0,0) node[anchor=north east]{$x$}; \draw [thick,->] (0,0,0) -- (0,1,0) node[anchor=north west]{$y$}; \draw [thick,->] (0,0,0) -- (0,0,1) node[anchor=south]{$z$}; \par \draw [-latex,color=mypink, thick] (O) -- (P); \par \par \par \par \tdplotdrawarc {(O)}{0.2}{0}{\phivec }{anchor=north}{$\theta $}; \par \tdplotsetthetaplanecoords {\phivec } \par \tdplotdrawarc [tdplot_rotated_coords]{(0,0,0)}{0.5}{0}{\thetavec }{anchor=south west}{$\phi $} \par \draw [dashed,tdplot_rotated_coords,] (\rvec ,0,0) arc (0:90:\rvec ) node (RHO) {}; \draw [dashed] (\rvec ,0,0) arc (0:90:\rvec ); \par \draw [dashed, color=lightgray] (Pxy) -- (P); \draw [dashed, color=lightgray] (O) -- (RHO); \par \draw [fill=black] (P) circle (.4pt) node[right] {$(\rho ,\theta , \phi )$}; \draw (RHO) node[below right] {$\rho $}; \par }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
