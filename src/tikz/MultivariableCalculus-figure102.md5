\begingroup \toks 0={macro:->[>=latex, scale=2] \coordinate (A) at (0,0); \coordinate (B) at (1,0); \coordinate (C) at (1,1); \coordinate (D) at (0,1); \par \draw [mypink,fill opacity=0.05,thick] (A) -- (B)-- (C) -- (D) -- cycle; \par \draw [draw=none] (A) -- (B) node[pos=.3,above] (V1) {}; \draw [draw=none] (B) -- (C) node[pos=.3,left] (V2) {}node[near end] (X) {}node[near start] (Y) {}; \draw [draw=none] (C) -- (D) node[pos=.3,below] (V3) {}; \draw [draw=none] (D) -- (A) node[pos=.3,right] (V4) {} ; \par \def \dd {.5} \draw [->, mypink, thick] (V1) -- +(\dd , 0); \draw [->, mypink, thick] (V2) -- +(0, \dd ); \draw [->, mypink, thick] (V3) -- +(-\dd , 0); \draw [->, mypink, thick] (V4) -- +(0, -\dd ); \par \par \coordinate (A) at (1.02,0); \coordinate (B) at (2.02,0); \coordinate (C) at (2.02,1); \coordinate (D) at (1.02,1); \par \draw [myorange,fill opacity=0.05,thick] (A) -- (B)-- (C) -- (D) -- cycle; \par \draw [draw=none] (A) -- (B) node[pos=.3,above] (V1) {}; \draw [draw=none] (B) -- (C) node[pos=.3,left] (V2) {}; \draw [draw=none] (C) -- (D) node[pos=.3,below] (V3) {}; \draw [draw=none] (D) -- (A) node[pos=.3,right] (V4) {}; \par \def \dd {.5} \draw [->, myorange, thick] (V1) -- +(\dd ,0); \draw [->, myorange, thick] (V2) -- +(0, \dd ); \draw [->, myorange, thick] (V3) -- +(-\dd , 0); \draw [->, myorange, thick] (V4) -- +(0,-\dd ); \par \draw (1,1) node[above, yshift=.4cm] {Cancellation} edge[bend left, ->] (X)edge[bend left, ->] (Y); \draw (.5,.5) node {$A$}; \draw (1.5,.5) node {$B$}; }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
