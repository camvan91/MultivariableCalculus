\begingroup \toks 0={macro:-> \par \begin {axis}[grid=major,view={0}{90},zmin=0, colormap/viridis, colorbar, name=plot0 ] \par \par \begin {scope}[opacity=1] \addplot 3[surf, domain=-2:2, shader=interp, opacity=1,samples=80] {(x^2-y^2)/(x^2+y^2)}; \end {scope} \par \end {axis} \draw (plot0.north) node[above] {$f(x,y)=\frac {x^2-y^2}{x^2+y^2}$}; }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
