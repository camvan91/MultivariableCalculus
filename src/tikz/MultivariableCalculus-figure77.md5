\begingroup \toks 0={macro:-> \par \par \begin {axis}[grid=major,view={90}{90},zmin=0,xmin=-2,xmax=2,ymin=-2,ymax=2, colormap/viridis,ytick=\empty ,xtick=\empty , name=plot0 ] \par \par \foreach \h in {2.9, 4.9, ..., 40} { \pgfmathsetmacro \start {270 - acos(1/sqrt(\h ))-1 - mod(\h ,4)*5} \addplot 3[domain=\start :270, samples y=1, myorange, thin, smooth] ({(sqrt(\h )*cos(x)+2)},{(sqrt(\h )*sin(x)+3)},{\h }); \addplot 3[domain=\start :270, samples=15, samples y=1, myorange, thin, smooth,quiver={u={2*x-4}, v={2*y-6}, scale arrows=0.025, every arrow/.append style={-stealth}}] ({(sqrt(\h )*cos(x)+2)},{(sqrt(\h )*sin(x)+3)},{\h }); } \par \par \par \draw ({cos(deg(4.12))}, {sin(deg(4.12))}, {(cos(deg(4.12))-2)^2+(sin(deg(4.12))-3)^2}) node (A) {}; \draw ({cos(deg(4.2+pi))}, {sin(deg(4.2+pi))}, {(cos(deg(4.2+pi))-2)^2+(sin(deg(4.2+pi))-3)^2}) node (B) {}; \par \draw (-.56, -.84 , 21.211) node (M1) {}; \par \addplot 3[domain=0:360, samples y=1, mypink, thick, smooth] ({cos(x)},{sin(x)},{(cos(x)-2)^2+(sin(x)-3)^2}); \addplot 3[domain=0:360, samples y=1, mypink,quiver={u={-y}, v={x}, scale arrows=0.5, every arrow/.append style={-stealth}}] ({cos(x)},{sin(x)},{(cos(x)-2)^2+(sin(x)-3)^2}); \par \end {axis} \par \par \draw (plot0.north) node[above, yshift=.2cm] {{\color {myorange}$\nabla f$} orthogonal to {\color {mypink}$\vec T$}} edge[bend right, ->,black] (A) edge[bend left, ->] (B); \par \begin {axis}[grid=major,view={90}{90},zmin=0,xmin=-2,xmax=2,ymin=-2,ymax=2,zmax=45, xshift=.5cm, colormap/viridis, ytick=\empty ,xtick=\empty , ticks=none, xticklabels={,,}, yticklabels={,,}, zticklabels={,,}, name=plot2, at=(plot0.right of south east), ] \par \par \par \par \par \foreach \h in {2.9, 4.9, ..., 40} { \pgfmathsetmacro \start {270 - acos(1/sqrt(\h ))-1 - mod(\h ,4)*5} \addplot 3[domain=\start :270, samples y=1, myorange, thin, smooth] ({(sqrt(\h )*cos(x)+2)},{(sqrt(\h )*sin(x)+3)},{\h }); \addplot 3[domain=\start :270, samples=15, samples y=1, myorange, thin, smooth,quiver={u={2*x-4}, v={2*y-6}, scale arrows=0.025, every arrow/.append style={-stealth}}] ({(sqrt(\h )*cos(x)+2)},{(sqrt(\h )*sin(x)+3)},{\h }); } \par \par \par \draw ({cos(deg(4.12))}, {sin(deg(4.12))}, {(cos(deg(4.12))-2)^2+(sin(deg(4.12))-3)^2}) node (A) {}; \draw ({cos(deg(4.2+pi))}, {sin(deg(4.2+pi))}, {(cos(deg(4.2+pi))-2)^2+(sin(deg(4.2+pi))-3)^2}) node (B) {}; \par \draw (-.56, -.84 , 21.211) node (M1) {}; \par \addplot 3[domain=0:360, samples y=1, mypink, thick, smooth] ({cos(x)},{sin(x)},{(cos(x)-2)^2+(sin(x)-3)^2}); \addplot 3[domain=0:360, samples y=1, mypink,quiver={u={x}, v={y}, scale arrows=0.25, every arrow/.append style={-stealth}}] ({cos(x)},{sin(x)},{(cos(x)-2)^2+(sin(x)-3)^2}); \par \end {axis} \par \par \draw (plot2.north) node[above, yshift=.2cm] {{\color {myorange}$\nabla f$} parallel to {\color {mypink}$\nabla g$}} edge[bend right, ->,black] (A) edge[bend left, ->] (B); }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
